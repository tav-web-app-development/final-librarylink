{"ast":null,"code":"import React,{useState,useEffect}from'react';import{fetchAuthors,deleteAuthor}from'../api';import Author from'./AuthorForm';import Loader from'./Loader';import{jsx as _jsx}from\"react/jsx-runtime\";const AuthorList=()=>{const[authors,setAuthors]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{setLoading(true);fetchAuthors().then(authors=>{setAuthors(authors);setLoading(false);});},[]);const handleDelete=id=>{deleteAuthor(id).then(()=>{setAuthors(authors.filter(author=>author.id!==id));});};if(loading){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsx(\"div\",{className:\"author-list\",children:authors.map(author=>/*#__PURE__*/_jsx(Author,{author:author,onDelete:handleDelete},author.id))});};export default AuthorList;","map":{"version":3,"names":["React","useState","useEffect","fetchAuthors","deleteAuthor","Author","Loader","jsx","_jsx","AuthorList","authors","setAuthors","loading","setLoading","then","handleDelete","id","filter","author","className","children","map","onDelete"],"sources":["/Users/nagunaidu/Desktop/React Final Project/final-librarylink1/src/components/AuthorList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchAuthors, deleteAuthor } from '../api';\nimport Author from './AuthorForm';\nimport Loader from './Loader';\n\nconst AuthorList = () => {\n  const [authors, setAuthors] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    fetchAuthors()\n      .then(authors => {\n        setAuthors(authors);\n        setLoading(false);\n      });\n  }, []);\n\n  const handleDelete = (id) => {\n    deleteAuthor(id)\n      .then(() => {\n        setAuthors(authors.filter(author => author.id !== id));\n      });\n  };\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <div className=\"author-list\">\n      {authors.map(author => (\n        <Author key={author.id} author={author} onDelete={handleDelete} />\n      ))}\n    </div>\n  );\n};\n\nexport default AuthorList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,YAAY,CAAEC,YAAY,KAAQ,QAAQ,CACnD,MAAO,CAAAC,MAAM,KAAM,cAAc,CACjC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9B,KAAM,CAAAC,UAAU,CAAGA,CAAA,GAAM,CACvB,KAAM,CAACC,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACdW,UAAU,CAAC,IAAI,CAAC,CAChBV,YAAY,CAAC,CAAC,CACXW,IAAI,CAACJ,OAAO,EAAI,CACfC,UAAU,CAACD,OAAO,CAAC,CACnBG,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,YAAY,CAAIC,EAAE,EAAK,CAC3BZ,YAAY,CAACY,EAAE,CAAC,CACbF,IAAI,CAAC,IAAM,CACVH,UAAU,CAACD,OAAO,CAACO,MAAM,CAACC,MAAM,EAAIA,MAAM,CAACF,EAAE,GAAKA,EAAE,CAAC,CAAC,CACxD,CAAC,CAAC,CACN,CAAC,CAED,GAAIJ,OAAO,CAAE,CACX,mBAAOJ,IAAA,CAACF,MAAM,GAAE,CAAC,CACnB,CAEA,mBACEE,IAAA,QAAKW,SAAS,CAAC,aAAa,CAAAC,QAAA,CACzBV,OAAO,CAACW,GAAG,CAACH,MAAM,eACjBV,IAAA,CAACH,MAAM,EAAiBa,MAAM,CAAEA,MAAO,CAACI,QAAQ,CAAEP,YAAa,EAAlDG,MAAM,CAACF,EAA6C,CAClE,CAAC,CACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAP,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}