{"ast":null,"code":"import React,{useState,useEffect}from'react';import{fetchPublishers,deletePublisher}from'../api';import Publisher from'./PublisherForm';import Loader from'./Loader';import{jsx as _jsx}from\"react/jsx-runtime\";const PublisherList=()=>{const[publishers,setPublishers]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{setLoading(true);fetchPublishers().then(publishers=>{setPublishers(publishers);setLoading(false);});},[]);const handleDelete=id=>{deletePublisher(id).then(()=>{setPublishers(publishers.filter(publisher=>publisher.id!==id));});};if(loading){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsx(\"div\",{className:\"publisher-list\",children:publishers.map(publisher=>/*#__PURE__*/_jsx(Publisher,{publisher:publisher,onDelete:handleDelete},publisher.id))});};export default PublisherList;","map":{"version":3,"names":["React","useState","useEffect","fetchPublishers","deletePublisher","Publisher","Loader","jsx","_jsx","PublisherList","publishers","setPublishers","loading","setLoading","then","handleDelete","id","filter","publisher","className","children","map","onDelete"],"sources":["/Users/nagunaidu/Desktop/React Final Project/final-librarylink1/src/components/PublisherList.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { fetchPublishers, deletePublisher } from '../api';\nimport Publisher from './PublisherForm';\nimport Loader from './Loader';\n\nconst PublisherList = () => {\n  const [publishers, setPublishers] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n    fetchPublishers()\n      .then(publishers => {\n        setPublishers(publishers);\n        setLoading(false);\n      });\n  }, []);\n\n  const handleDelete = (id) => {\n    deletePublisher(id)\n      .then(() => {\n        setPublishers(publishers.filter(publisher => publisher.id !== id));\n      });\n  };\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <div className=\"publisher-list\">\n      {publishers.map(publisher => (\n        <Publisher key={publisher.id} publisher={publisher} onDelete={handleDelete} />\n      ))}\n    </div>\n  );\n};\n\nexport default PublisherList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,eAAe,CAAEC,eAAe,KAAQ,QAAQ,CACzD,MAAO,CAAAC,SAAS,KAAM,iBAAiB,CACvC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9B,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACW,OAAO,CAAEC,UAAU,CAAC,CAAGZ,QAAQ,CAAC,KAAK,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACdW,UAAU,CAAC,IAAI,CAAC,CAChBV,eAAe,CAAC,CAAC,CACdW,IAAI,CAACJ,UAAU,EAAI,CAClBC,aAAa,CAACD,UAAU,CAAC,CACzBG,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,YAAY,CAAIC,EAAE,EAAK,CAC3BZ,eAAe,CAACY,EAAE,CAAC,CAChBF,IAAI,CAAC,IAAM,CACVH,aAAa,CAACD,UAAU,CAACO,MAAM,CAACC,SAAS,EAAIA,SAAS,CAACF,EAAE,GAAKA,EAAE,CAAC,CAAC,CACpE,CAAC,CAAC,CACN,CAAC,CAED,GAAIJ,OAAO,CAAE,CACX,mBAAOJ,IAAA,CAACF,MAAM,GAAE,CAAC,CACnB,CAEA,mBACEE,IAAA,QAAKW,SAAS,CAAC,gBAAgB,CAAAC,QAAA,CAC5BV,UAAU,CAACW,GAAG,CAACH,SAAS,eACvBV,IAAA,CAACH,SAAS,EAAoBa,SAAS,CAAEA,SAAU,CAACI,QAAQ,CAAEP,YAAa,EAA3DG,SAAS,CAACF,EAAmD,CAC9E,CAAC,CACC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAP,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}